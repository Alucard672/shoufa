<!--pages/settings/system.wxml-->
<view class="container">
  <!-- 页面标题 -->
  <view class="page-header">
    <view class="header-left">
      <text class="page-title">系统参数</text>
      <text class="page-subtitle">管理系统配置参数</text>
    </view>
  </view>

  <!-- 参数列表 -->
  <view class="section">
    <view class="menu-card card">
      <view class="param-item" wx:for="{{params}}" wx:key="key" wx:for-item="param" wx:for-index="index">
        <view class="param-content">
          <view class="param-header">
            <view class="param-header-left">
              <text class="param-label">{{param.label}}</text>
              <text class="param-value" wx:if="{{!param.editing}}">
                {{param.value}}{{param.unit ? param.unit : ''}}
              </text>
            </view>
            <!-- 操作按钮 -->
            <view class="param-actions" wx:if="{{!param.editing}}">
              <view class="param-btn-edit" bindtap="onEditParam" data-index="{{index}}">编辑</view>
            </view>
          </view>
          <text class="param-desc">{{param.description}}</text>
          
          <!-- 编辑模式 -->
          <view class="param-edit" wx:if="{{param.editing}}">
            <input 
              class="param-input" 
              type="{{param.type === 'number' ? 'number' : 'text'}}"
              placeholder="请输入{{param.label}}"
              value="{{param.tempValue}}"
              bindinput="onParamInput"
              data-index="{{index}}"
            />
            <text class="param-unit" wx:if="{{param.unit}}">{{param.unit}}</text>
            
            <!-- 编辑模式按钮 -->
            <view class="param-edit-actions">
              <view class="param-btn-cancel" bindtap="onCancelEdit" data-index="{{index}}">取消</view>
              <view class="param-btn-save" bindtap="onSaveParam" data-index="{{index}}">保存</view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>

